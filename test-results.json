{"numTotalTestSuites":40,"numPassedTestSuites":9,"numFailedTestSuites":31,"numPendingTestSuites":0,"numTotalTests":80,"numPassedTests":24,"numFailedTests":56,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1754330434034,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["parseChangeModeOutput"],"fullName":"parseChangeModeOutput parses /old/ and /new/ formatted responses","status":"passed","title":"parses /old/ and /new/ formatted responses","duration":3.6376999999999953,"failureMessages":[],"meta":{}}],"startTime":1754330434662,"endTime":1754330434665.6377,"status":"passed","message":"","name":"C:/Users/Eros/Desktop/gemini-mcp-tool/tests/changeModeParser.test.ts"},{"assertionResults":[{"ancestorTitles":["ChatManager Core Operations","Chat Creation & Management"],"fullName":"ChatManager Core Operations Chat Creation & Management should create chat with auto-incrementing ID","status":"passed","title":"should create chat with auto-incrementing ID","duration":3.2104000000000497,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","Chat Creation & Management"],"fullName":"ChatManager Core Operations Chat Creation & Management should create multiple chats with sequential IDs","status":"passed","title":"should create multiple chats with sequential IDs","duration":1.163499999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","Chat Creation & Management"],"fullName":"ChatManager Core Operations Chat Creation & Management should track chat participants correctly","status":"failed","title":"should track chat participants correctly","duration":12.420900000000074,"failureMessages":["AssertionError: expected [ { …(4) }, { …(4) } ] to include 'alice-test-agent'\n    at Proxy.<anonymous> (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1191:15)\n    at Proxy.<anonymous> (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1706:25)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:63:34\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","Chat Creation & Management"],"fullName":"ChatManager Core Operations Chat Creation & Management should validate and sanitize chat titles","status":"passed","title":"should validate and sanitize chat titles","duration":2.1884999999999764,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","Message Management"],"fullName":"ChatManager Core Operations Message Management should preserve message ordering","status":"failed","title":"should preserve message ordering","duration":3.683499999999981,"failureMessages":["AssertionError: expected undefined to be 'First message' // Object.is equality\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:109:41\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","Message Management"],"fullName":"ChatManager Core Operations Message Management should maintain timestamp accuracy and consistency","status":"passed","title":"should maintain timestamp accuracy and consistency","duration":1.3360000000000127,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","Message Management"],"fullName":"ChatManager Core Operations Message Management should validate agent attribution correctly","status":"failed","title":"should validate agent attribution correctly","duration":2.3641999999999825,"failureMessages":["AssertionError: expected undefined to be 'alice-test-agent' // Object.is equality\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:138:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","Message Management"],"fullName":"ChatManager Core Operations Message Management should preserve content storage fidelity","status":"failed","title":"should preserve content storage fidelity","duration":1.7601999999999407,"failureMessages":["AssertionError: expected undefined to be 'Message with special characters: !@#$…' // Object.is equality\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:153:41\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","History Truncation Logic"],"fullName":"ChatManager Core Operations History Truncation Logic should enforce 30k character limit","status":"failed","title":"should enforce 30k character limit","duration":2.0212000000000216,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'length')\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:177:80\n    at Array.reduce (<anonymous>)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:177:41\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","History Truncation Logic"],"fullName":"ChatManager Core Operations History Truncation Logic should preserve message boundaries during truncation","status":"failed","title":"should preserve message boundaries during truncation","duration":1.227800000000002,"failureMessages":["TypeError: .toMatch() expects to receive a string, but got undefined\n    at Proxy.<anonymous> (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1165:10)\n    at Proxy.<anonymous> (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1706:25)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:206:33\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","History Truncation Logic"],"fullName":"ChatManager Core Operations History Truncation Logic should handle Unicode characters correctly in truncation","status":"failed","title":"should handle Unicode characters correctly in truncation","duration":1.4026000000000067,"failureMessages":["Error: Message exceeds maximum size limit\n    at ChatManager.addMessage (C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\src\\managers\\chatManager.ts:325:15)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:218:25\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","History Truncation Logic"],"fullName":"ChatManager Core Operations History Truncation Logic should log truncation events for debugging","status":"failed","title":"should log truncation events for debugging","duration":1.8698000000000548,"failureMessages":["Error: Message exceeds maximum size limit\n    at ChatManager.addMessage (C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\src\\managers\\chatManager.ts:325:15)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:239:25\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","State Management"],"fullName":"ChatManager Core Operations State Management should track agentsWithHistory correctly","status":"failed","title":"should track agentsWithHistory correctly","duration":0.9813000000000329,"failureMessages":["AssertionError: expected undefined to be defined\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:273:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","State Management"],"fullName":"ChatManager Core Operations State Management should update lastActivity on message addition","status":"passed","title":"should update lastActivity on message addition","duration":115.59610000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","State Management"],"fullName":"ChatManager Core Operations State Management should handle memory cleanup on chat operations","status":"passed","title":"should handle memory cleanup on chat operations","duration":10.01419999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","List Chats Functionality"],"fullName":"ChatManager Core Operations List Chats Functionality should list all chats with correct metadata","status":"passed","title":"should list all chats with correct metadata","duration":3.7735000000000127,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager Core Operations","List Chats Functionality"],"fullName":"ChatManager Core Operations List Chats Functionality should return participant count accurately","status":"passed","title":"should return participant count accurately","duration":0.8601000000001022,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager - Concurrency & Locking","Chat-Level Locking"],"fullName":"ChatManager - Concurrency & Locking Chat-Level Locking should prevent race conditions when multiple agents access same chat","status":"passed","title":"should prevent race conditions when multiple agents access same chat","duration":31.527600000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager - Concurrency & Locking","Chat-Level Locking"],"fullName":"ChatManager - Concurrency & Locking Chat-Level Locking should allow concurrent operations on different chats","status":"passed","title":"should allow concurrent operations on different chats","duration":30.985700000000065,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager - Concurrency & Locking","Chat-Level Locking"],"fullName":"ChatManager - Concurrency & Locking Chat-Level Locking should handle lock timeout for long-running operations","status":"failed","title":"should handle lock timeout for long-running operations","duration":207.9728,"failureMessages":["Error: promise resolved \"undefined\" instead of rejecting\n    at _Assertion.__VITEST_REJECTS__ (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1610:17)\n    at _Assertion.propertyGetter (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1577:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1665:22)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:459:34\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["ChatManager - Concurrency & Locking","Message Queue Management"],"fullName":"ChatManager - Concurrency & Locking Message Queue Management should process queued messages in FIFO order","status":"passed","title":"should process queued messages in FIFO order","duration":6.506200000000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager - Concurrency & Locking","Message Queue Management"],"fullName":"ChatManager - Concurrency & Locking Message Queue Management should handle message processing failures gracefully","status":"passed","title":"should handle message processing failures gracefully","duration":6.169599999999946,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager - Concurrency & Locking","Resource Management"],"fullName":"ChatManager - Concurrency & Locking Resource Management should enforce chat creation quota per agent","status":"failed","title":"should enforce chat creation quota per agent","duration":5.065899999999829,"failureMessages":["Error: promise resolved \"11\" instead of rejecting\n    at _Assertion.__VITEST_REJECTS__ (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1610:17)\n    at _Assertion.propertyGetter (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1577:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1665:22)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:525:7\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["ChatManager - Concurrency & Locking","Resource Management"],"fullName":"ChatManager - Concurrency & Locking Resource Management should handle memory cleanup for inactive chats","status":"failed","title":"should handle memory cleanup for inactive chats","duration":10.225299999999834,"failureMessages":["AssertionError: expected 2 to be +0 // Object.is equality\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:542:48\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["ChatManager - Error Handling & Edge Cases"],"fullName":"ChatManager - Error Handling & Edge Cases should handle invalid chat ID gracefully","status":"passed","title":"should handle invalid chat ID gracefully","duration":1.0029000000001815,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager - Error Handling & Edge Cases"],"fullName":"ChatManager - Error Handling & Edge Cases should handle concurrent access to same chat","status":"passed","title":"should handle concurrent access to same chat","duration":3.0224000000000615,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager - Error Handling & Edge Cases"],"fullName":"ChatManager - Error Handling & Edge Cases should validate message size limits","status":"passed","title":"should validate message size limits","duration":2.045699999999897,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager - Error Handling & Edge Cases"],"fullName":"ChatManager - Error Handling & Edge Cases should handle empty agent ID validation","status":"passed","title":"should handle empty agent ID validation","duration":2.1177000000000135,"failureMessages":[],"meta":{}},{"ancestorTitles":["ChatManager - Error Handling & Edge Cases"],"fullName":"ChatManager - Error Handling & Edge Cases should handle database connection failures","status":"failed","title":"should handle database connection failures","duration":11.337800000000016,"failureMessages":["Error: promise resolved \"{ success: true, …(1) }\" instead of rejecting\n    at _Assertion.__VITEST_REJECTS__ (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1610:17)\n    at _Assertion.propertyGetter (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1577:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1665:22)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:610:5\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["ChatManager - Error Handling & Edge Cases"],"fullName":"ChatManager - Error Handling & Edge Cases should validate agent authorization","status":"failed","title":"should validate agent authorization","duration":7.298800000000028,"failureMessages":["Error: promise resolved \"{ success: true, …(1) }\" instead of rejecting\n    at _Assertion.__VITEST_REJECTS__ (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1610:17)\n    at _Assertion.propertyGetter (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1577:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1665:22)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:624:5\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["ChatManager Implementation Verification - FAILING TEST"],"fullName":"ChatManager Implementation Verification - FAILING TEST FAILS: should fail initially - ChatManager class not yet implemented","status":"failed","title":"FAILS: should fail initially - ChatManager class not yet implemented","duration":11.02520000000004,"failureMessages":["AssertionError: expected 'expected undefined to be \\'Test messa…' to contain 'ChatManager'\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\chatManager.test.ts:657:29\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1754330434685,"endTime":1754330435190.0251,"status":"failed","message":"","name":"C:/Users/Eros/Desktop/gemini-mcp-tool/tests/chatManager.test.ts"},{"assertionResults":[{"ancestorTitles":["executeCommand"],"fullName":"executeCommand sets shell true on win32","status":"passed","title":"sets shell true on win32","duration":5.239400000000046,"failureMessages":[],"meta":{}},{"ancestorTitles":["executeCommand"],"fullName":"executeCommand streams stdout incrementally via onProgress","status":"passed","title":"streams stdout incrementally via onProgress","duration":1.4220000000000255,"failureMessages":[],"meta":{}},{"ancestorTitles":["executeCommand"],"fullName":"executeCommand rejects when process exits with non-zero code","status":"passed","title":"rejects when process exits with non-zero code","duration":2.27819999999997,"failureMessages":[],"meta":{}}],"startTime":1754330434678,"endTime":1754330434687.2783,"status":"passed","message":"","name":"C:/Users/Eros/Desktop/gemini-mcp-tool/tests/commandExecutor.test.ts"},{"assertionResults":[],"startTime":1754330434034,"endTime":1754330434034,"status":"failed","message":"Cannot find module '../src/tools/createChatTool.js' imported from 'C:/Users/Eros/Desktop/gemini-mcp-tool/tests/e2e.test.ts'","name":"C:/Users/Eros/Desktop/gemini-mcp-tool/tests/e2e.test.ts"},{"assertionResults":[{"ancestorTitles":["executeGeminiCLI"],"fullName":"executeGeminiCLI quotes prompt on win32 to avoid shell parsing issues","status":"passed","title":"quotes prompt on win32 to avoid shell parsing issues","duration":3.3011999999999944,"failureMessages":[],"meta":{}},{"ancestorTitles":["executeGeminiCLI"],"fullName":"executeGeminiCLI handles special characters and newlines in prompt on win32","status":"passed","title":"handles special characters and newlines in prompt on win32","duration":1.6195000000000164,"failureMessages":[],"meta":{}},{"ancestorTitles":["executeGeminiCLI"],"fullName":"executeGeminiCLI handles embedded quotes in prompt on win32","status":"passed","title":"handles embedded quotes in prompt on win32","duration":1.1536000000000968,"failureMessages":[],"meta":{}},{"ancestorTitles":["processChangeModeOutput"],"fullName":"processChangeModeOutput returns raw result when no edits are found","status":"passed","title":"returns raw result when no edits are found","duration":0.6179999999999382,"failureMessages":[],"meta":{}}],"startTime":1754330434748,"endTime":1754330434755.618,"status":"passed","message":"","name":"C:/Users/Eros/Desktop/gemini-mcp-tool/tests/geminiExecutor.test.ts"},{"assertionResults":[],"startTime":1754330434034,"endTime":1754330434034,"status":"failed","message":"Cannot find module '../src/tools/createChatTool.js' imported from 'C:/Users/Eros/Desktop/gemini-mcp-tool/tests/mcpToolsIntegration.test.ts'","name":"C:/Users/Eros/Desktop/gemini-mcp-tool/tests/mcpToolsIntegration.test.ts"},{"assertionResults":[{"ancestorTitles":["Performance - Throughput & Latency","Message Operations"],"fullName":"Performance - Throughput & Latency Message Operations should add messages within latency threshold","status":"failed","title":"should add messages within latency threshold","duration":7.067300000000046,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:21:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Performance - Throughput & Latency","Message Operations"],"fullName":"Performance - Throughput & Latency Message Operations should retrieve history within latency threshold","status":"failed","title":"should retrieve history within latency threshold","duration":0.7758000000000038,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:21:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Performance - Throughput & Latency","Message Operations"],"fullName":"Performance - Throughput & Latency Message Operations should maintain throughput under concurrent load","status":"failed","title":"should maintain throughput under concurrent load","duration":0.7445000000000164,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:21:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Performance - Throughput & Latency","Concurrent Access"],"fullName":"Performance - Throughput & Latency Concurrent Access should handle concurrent chat operations efficiently","status":"failed","title":"should handle concurrent chat operations efficiently","duration":0.9920000000000755,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:21:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Performance - Throughput & Latency","Concurrent Access"],"fullName":"Performance - Throughput & Latency Concurrent Access should prevent deadlocks under high concurrency","status":"failed","title":"should prevent deadlocks under high concurrency","duration":1.0662999999999556,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:21:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Performance - Memory Management"],"fullName":"Performance - Memory Management should not leak memory during normal operations","status":"failed","title":"should not leak memory during normal operations","duration":1.1019000000000005,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:162:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Performance - Memory Management"],"fullName":"Performance - Memory Management should properly clean up inactive chats","status":"failed","title":"should properly clean up inactive chats","duration":0.614400000000046,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:162:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Performance - Memory Management"],"fullName":"Performance - Memory Management should handle memory-efficient pagination for large histories","status":"failed","title":"should handle memory-efficient pagination for large histories","duration":0.6402000000000498,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:162:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Performance - Database Operations"],"fullName":"Performance - Database Operations should optimize database queries for large datasets","status":"failed","title":"should optimize database queries for large datasets","duration":0.9507999999999583,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:258:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Performance - Database Operations"],"fullName":"Performance - Database Operations should handle transaction rollbacks efficiently","status":"failed","title":"should handle transaction rollbacks efficiently","duration":0.6633000000000493,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:258:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Performance - Database Operations"],"fullName":"Performance - Database Operations should maintain connection pool efficiency","status":"failed","title":"should maintain connection pool efficiency","duration":0.49310000000002674,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:258:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Performance - Stress Testing"],"fullName":"Performance - Stress Testing should handle extreme concurrent load gracefully","status":"failed","title":"should handle extreme concurrent load gracefully","duration":0.9333999999998923,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:345:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Performance - Stress Testing"],"fullName":"Performance - Stress Testing should recover from resource exhaustion","status":"failed","title":"should recover from resource exhaustion","duration":0.6675999999999931,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\performance.test.ts:380:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}}],"startTime":1754330434687,"endTime":1754330434704.6675,"status":"failed","message":"","name":"C:/Users/Eros/Desktop/gemini-mcp-tool/tests/performance.test.ts"},{"assertionResults":[{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' OR '1'='1","status":"failed","title":"should safely store SQL injection payload: ' OR '1'='1","duration":6.984199999999987,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' OR 1=1; --","status":"failed","title":"should safely store SQL injection payload: ' OR 1=1; --","duration":1.0398999999999887,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' OR 1=1; /*","status":"failed","title":"should safely store SQL injection payload: ' OR 1=1; /*","duration":0.532799999999952,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' OR 1=1--","status":"failed","title":"should safely store SQL injection payload: ' OR 1=1--","duration":0.5387000000000626,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' OR 'a'='a","status":"failed","title":"should safely store SQL injection payload: ' OR 'a'='a","duration":0.6234000000000606,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' OR 'a'='a'; --","status":"failed","title":"should safely store SQL injection payload: ' OR 'a'='a'; --","duration":0.5344000000000051,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' OR 'a'='a'; /*","status":"failed","title":"should safely store SQL injection payload: ' OR 'a'='a'; /*","duration":0.4781999999999016,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' OR 'a'='a'--","status":"failed","title":"should safely store SQL injection payload: ' OR 'a'='a'--","duration":0.5674999999999955,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' OR 1=1#","status":"failed","title":"should safely store SQL injection payload: ' OR 1=1#","duration":0.7314999999999827,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' OR 'a'='a'#","status":"failed","title":"should safely store SQL injection payload: ' OR 'a'='a'#","duration":0.63799999999992,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: '; DROP TABLE messages; --","status":"failed","title":"should safely store SQL injection payload: '; DROP TABLE messages; --","duration":0.5937000000000126,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' UNION SELECT * FROM sqlite_master; --","status":"failed","title":"should safely store SQL injection payload: ' UNION SELECT * FROM sqlite_master; --","duration":0.516399999999976,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: '; INSERT INTO messages VALUES ('injected'); --","status":"failed","title":"should safely store SQL injection payload: '; INSERT INTO messages VALUES ('injected'); --","duration":0.52699999999993,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should safely store SQL injection payload: ' AND (SELECT COUNT(*) FROM messages) > 0; --","status":"failed","title":"should safely store SQL injection payload: ' AND (SELECT COUNT(*) FROM messages) > 0; --","duration":0.467899999999986,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should prevent injection through chat ID parameter","status":"failed","title":"should prevent injection through chat ID parameter","duration":0.47450000000003456,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Message Storage"],"fullName":"Security - SQL Injection Prevention Message Storage should prevent injection through agent ID parameter","status":"failed","title":"should prevent injection through agent ID parameter","duration":0.5022999999999911,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Chat Management"],"fullName":"Security - SQL Injection Prevention Chat Management should prevent SQL injection in chat creation","status":"failed","title":"should prevent SQL injection in chat creation","duration":0.6423000000000911,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Chat Management"],"fullName":"Security - SQL Injection Prevention Chat Management should prevent injection in chat listing","status":"failed","title":"should prevent injection in chat listing","duration":0.47230000000001837,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - SQL Injection Prevention","Query Parameter Validation"],"fullName":"Security - SQL Injection Prevention Query Parameter Validation should validate parameterized queries are used","status":"failed","title":"should validate parameterized queries are used","duration":0.33349999999995816,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:12:23\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["Security - Input Validation & Sanitization","Message Content Validation"],"fullName":"Security - Input Validation & Sanitization Message Content Validation should reject messages exceeding maximum size","status":"failed","title":"should reject messages exceeding maximum size","duration":3.3572000000000344,"failureMessages":["TypeError: You must provide a Promise to expect() when using .rejects, not 'object'.\n    at _Assertion.__VITEST_REJECTS__ (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1620:10)\n    at _Assertion.propertyGetter (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1577:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1665:22)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:141:7\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Security - Input Validation & Sanitization","Message Content Validation"],"fullName":"Security - Input Validation & Sanitization Message Content Validation should sanitize HTML and script content","status":"failed","title":"should sanitize HTML and script content","duration":1.6387999999999465,"failureMessages":["AssertionError: the given combination of arguments (undefined and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string\n    at Proxy.<anonymous> (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1191:15)\n    at Proxy.<anonymous> (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1706:25)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:160:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Security - Input Validation & Sanitization","Message Content Validation"],"fullName":"Security - Input Validation & Sanitization Message Content Validation should validate agent ID format","status":"failed","title":"should validate agent ID format","duration":0.8351999999999862,"failureMessages":["TypeError: You must provide a Promise to expect() when using .rejects, not 'object'.\n    at _Assertion.__VITEST_REJECTS__ (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/expect/dist/index.js:1620:10)\n    at _Assertion.propertyGetter (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1577:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/chai/chai.js:1665:22)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:184:9\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Security - Input Validation & Sanitization","Authorization Validation"],"fullName":"Security - Input Validation & Sanitization Authorization Validation should prevent unauthorized agent impersonation","status":"failed","title":"should prevent unauthorized agent impersonation","duration":0.6096000000000004,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:197:25\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Security - Input Validation & Sanitization","Authorization Validation"],"fullName":"Security - Input Validation & Sanitization Authorization Validation should validate agent permissions for chat access","status":"failed","title":"should validate agent permissions for chat access","duration":0.5736000000000558,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:212:25\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Security - DoS Protection","Resource Quotas"],"fullName":"Security - DoS Protection Resource Quotas should enforce message rate limiting per agent","status":"failed","title":"should enforce message rate limiting per agent","duration":1.475400000000036,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:241:25\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Security - DoS Protection","Resource Quotas"],"fullName":"Security - DoS Protection Resource Quotas should enforce chat creation quota per agent","status":"failed","title":"should enforce chat creation quota per agent","duration":0.6329999999999245,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:261:25\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Security - DoS Protection","Resource Quotas"],"fullName":"Security - DoS Protection Resource Quotas should enforce memory usage limits","status":"failed","title":"should enforce memory usage limits","duration":0.7830000000000155,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:280:25\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Security - DoS Protection","Connection Limits"],"fullName":"Security - DoS Protection Connection Limits should limit concurrent connections per agent","status":"failed","title":"should limit concurrent connections per agent","duration":0.5213999999999714,"failureMessages":["TypeError: persistence.init is not a function\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:309:28\n    at Function.from (<anonymous>)\n    at C:\\Users\\Eros\\Desktop\\gemini-mcp-tool\\tests\\security.test.ts:307:32\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Eros/Desktop/gemini-mcp-tool/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"meta":{}}],"startTime":1754330434698,"endTime":1754330434727.5215,"status":"failed","message":"","name":"C:/Users/Eros/Desktop/gemini-mcp-tool/tests/security.test.ts"}]}